<template>
  <div class="home">
    <div class="bg-primary px-4 py-5 text-white screen-top">
      <Navigation />
    </div>

    <!-- list -->
    <b-container class="px-4 py-4">
      <b-row>
        <b-col v-for="(item, index) in rooms" :key="index" cols="6">
          <b-card class="text-center border-0 block-room" no-body>
            <router-link :to="'/room/' + index">
              <div class="icon-box">
                <svg
                  height="480pt"
                  viewBox="0 0 480 480"
                  width="480pt"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="m240 0c-132.484375.148438-239.851562 107.515625-240 240v232c0 4.417969 3.582031 8 8 8h464c4.417969 0 8-3.582031 8-8v-232c-.148438-132.484375-107.515625-239.851562-240-240zm-8 16.199219v119.800781h-144c-4.417969 0-8 3.582031-8 8v24h-16c-4.417969 0-8 3.582031-8 8v8c0 17.671875 14.328125 32 32 32s32-14.328125 32-32v-8c0-4.417969-3.582031-8-8-8h-16v-16h288v16h-16c-4.417969 0-8 3.582031-8 8v8c0 17.671875 14.328125 32 32 32s32-14.328125 32-32v-8c0-4.417969-3.582031-8-8-8h-16v-24c0-4.417969-3.582031-8-8-8h-144v-119.800781c117.34375 4.328125 211.472656 98.457031 215.800781 215.800781h-447.601562c4.328125-117.34375 98.457031-211.472656 215.800781-215.800781zm-128 167.800781c0 8.835938-7.164062 16-16 16s-16-7.164062-16-16zm304 0c0 8.835938-7.164062 16-16 16s-16-7.164062-16-16zm-392 64h144v216h-64v-8.640625c27.515625-3.992187 47.945312-27.554687 48-55.359375 0-4.417969-3.582031-8-8-8-15.066406-.003906-29.496094 6.085938-40 16.886719v-17.527344c27.515625-3.992187 47.945312-27.554687 48-55.359375 0-4.417969-3.582031-8-8-8-15.066406-.003906-29.496094 6.085938-40 16.886719v-5.824219c18.472656-21.082031 17.445312-52.871094-2.34375-72.71875-3.125-3.121094-8.1875-3.121094-11.3125 0-19.789062 19.847656-20.816406 51.636719-2.34375 72.71875v5.824219c-10.503906-10.800781-24.933594-16.890625-40-16.886719-4.417969 0-8 3.582031-8 8 .054688 27.804688 20.484375 51.367188 48 55.359375v17.527344c-10.503906-10.800781-24.933594-16.890625-40-16.886719-4.417969 0-8 3.582031-8 8 .054688 27.804688 20.484375 51.367188 48 55.359375v8.640625h-64zm72 36.910156c6.984375 11.769532 6.984375 26.410156 0 38.179688-6.984375-11.769532-6.984375-26.410156 0-38.179688zm9.023438 154.066406c3.480468-14.867187 15.085937-26.472656 29.953124-29.953124-3.480468 14.867187-15.085937 26.472656-29.953124 29.953124zm0-64c3.480468-14.867187 15.085937-26.472656 29.953124-29.953124-3.480468 14.867187-15.085937 26.472656-29.953124 29.953124zm-18.046876 0c-14.867187-3.480468-26.472656-15.085937-29.953124-29.953124 14.867187 3.480468 26.472656 15.085937 29.953124 29.953124zm0 64c-14.867187-3.480468-26.472656-15.085937-29.953124-29.953124 14.867187 3.480468 26.472656 15.085937 29.953124 29.953124zm97.023438 25.023438v-216h128v216zm216-179.089844c6.984375 11.769532 6.984375 26.410156 0 38.179688-6.984375-11.769532-6.984375-26.410156 0-38.179688zm72 179.089844h-64v-8.640625c27.515625-3.992187 47.945312-27.554687 48-55.359375 0-4.417969-3.582031-8-8-8-15.066406-.003906-29.496094 6.085938-40 16.886719v-17.527344c27.515625-3.992187 47.945312-27.554687 48-55.359375 0-4.417969-3.582031-8-8-8-15.066406-.003906-29.496094 6.085938-40 16.886719v-5.824219c18.472656-21.082031 17.445312-52.871094-2.34375-72.71875-3.125-3.121094-8.1875-3.121094-11.3125 0-19.789062 19.847656-20.816406 51.636719-2.34375 72.71875v5.824219c-10.503906-10.800781-24.933594-16.890625-40-16.886719-4.417969 0-8 3.582031-8 8 .054688 27.804688 20.484375 51.367188 48 55.359375v17.527344c-10.503906-10.800781-24.933594-16.890625-40-16.886719-4.417969 0-8 3.582031-8 8 .054688 27.804688 20.484375 51.367188 48 55.359375v8.640625h-64v-216h144zm-62.976562-25.023438c3.480468-14.867187 15.085937-26.472656 29.953124-29.953124-3.480468 14.867187-15.085937 26.472656-29.953124 29.953124zm0-64c3.480468-14.867187 15.085937-26.472656 29.953124-29.953124-3.480468 14.867187-15.085937 26.472656-29.953124 29.953124zm-18.046876 0c-14.867187-3.480468-26.472656-15.085937-29.953124-29.953124 14.867187 3.480468 26.472656 15.085937 29.953124 29.953124zm0 64c-14.867187-3.480468-26.472656-15.085937-29.953124-29.953124 14.867187 3.480468 26.472656 15.085937 29.953124 29.953124zm0 0"
                  />
                  <path d="m272 344h16v32h-16zm0 0" />
                </svg>
              </div>
              <h6 class="mb-0">{{ item.name }}</h6>
            </router-link>
          </b-card>
        </b-col>
      </b-row>
    </b-container>
  </div>
</template>

<script>
import { database } from "@/firebase";
import Navigation from "@/components/layout/Navigation.vue";

export default {
  name: "Home",
  data() {
    return {
      rooms: [],
    };
  },
  components: {
    Navigation,
  },
  methods: {
    getRooms() {
      database.ref().on("value", (snapshot) => {
        this.rooms = snapshot.val();
      });
    },
  },
  mounted() {
    this.getRooms();
  },
};
</script>


<style lang="scss" scope>
.block-room {
  a {
    min-height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    text-decoration: none !important;

    .icon-box {
      width: 70px;
      height: 70px;
      display: flex;
      margin-bottom: 9px;
      
      align-items: center;
      justify-content: center;
      border-radius: 3px;
      background-color: rgba(orange, 0.1);

      svg {
        width: 42px;
        height: 42px;
        fill: orange;
      }
    }

    h6 {
      font-weight: 600;
      color: gray;
      font-size: 18px;
    }
  }
}
</style>